apiVersion: v1
kind: ConfigMap
metadata:
  name: email-template
  namespace: cicd-system
data:
  request-title: "[CI/CD] Approval '{{.Name}}' is requested to you"
  request-content: |
    IntegrationJob: {{.Spec.IntegrationJob}}
    JobName: {{.Spec.JobName}}
    Link: {{.Spec.Link}}
    Sender: {{.Spec.Sender}}
    Message: {{.Spec.Message}}
  result-title: "[CI/CD] Approval '{{.Name}}' is {{.Status.Result}}"
  result-content: |
    IntegrationJob: {{.Spec.IntegrationJob}}<br/>
    JobName: {{.Spec.JobName}}<br/>
    Link: {{.Spec.Link}}<br/>
    Sender: {{.Spec.Sender}}<br/>
    Message: {{.Spec.Message}}<br/><br/>

    Result<br/>
    User: {{.Status.Approver}}<br/>
    Result: {{.Status.Result}}<br/>
    Reason: {{.Status.Reason}}<br/>
    DecisionTime: {{.Status.GetDecisionTimeInZone "Asia/Seoul"}}<br/>
